<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MiniTorrent: jBittorrentAPI.DownloadManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.2 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>jBittorrentAPI</b>.<a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html">DownloadManager</a>
  </div>
</div>
<div class="contents">
<h1>jBittorrentAPI.DownloadManager Class Reference</h1><!-- doxytag: class="jBittorrentAPI::DownloadManager" --><!-- doxytag: inherits="jBittorrentAPI::DTListener,jBittorrentAPI::PeerUpdateListener,jBittorrentAPI::ConListenerInterface" -->
<p>Inherits <a class="el" href="interfacej_bittorrent_a_p_i_1_1_d_t_listener.html">jBittorrentAPI::DTListener</a>, <a class="el" href="interfacej_bittorrent_a_p_i_1_1_peer_update_listener.html">jBittorrentAPI::PeerUpdateListener</a>, and <a class="el" href="interfacej_bittorrent_a_p_i_1_1_con_listener_interface.html">jBittorrentAPI::ConListenerInterface</a>.</p>
<div class="dynheader">
Collaboration diagram for jBittorrentAPI.DownloadManager:</div>
<div class="dynsection">
<div class="center"><img src="classj_bittorrent_a_p_i_1_1_download_manager__coll__graph.png" border="0" usemap="#j_bittorrent_a_p_i_8_download_manager_coll__map" alt="Collaboration graph"/></div>
<map name="j_bittorrent_a_p_i_8_download_manager_coll__map" id="j_bittorrent_a_p_i_8_download_manager_coll__map">
<area shape="rect" href="interfacej_bittorrent_a_p_i_1_1_d_t_listener.html" title="jBittorrentAPI.DTListener" alt="" coords="340,5,535,32"/><area shape="rect" href="interfacej_bittorrent_a_p_i_1_1_peer_update_listener.html" title="jBittorrentAPI.PeerUpdateListener" alt="" coords="307,56,568,83"/><area shape="rect" href="interfacej_bittorrent_a_p_i_1_1_con_listener_interface.html" title="jBittorrentAPI.ConListenerInterface" alt="" coords="303,107,572,133"/><area shape="rect" href="classj_bittorrent_a_p_i_1_1_peer_updater.html" title="jBittorrentAPI.PeerUpdater" alt="" coords="333,223,541,249"/><area shape="rect" href="classj_bittorrent_a_p_i_1_1_torrent_file.html" title="jBittorrentAPI.TorrentFile" alt="" coords="7,188,201,215"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classj_bittorrent_a_p_i_1_1_download_manager-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a8fd6a72325826a055cf5a7c85d80830a">DownloadManager</a> (<a class="el" href="classj_bittorrent_a_p_i_1_1_torrent_file.html">TorrentFile</a> torrent, final byte[] clientID, JTextArea log, JProgressBar jp, JLabel speedLabel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a938bc914b3c42f488705aa8e6c5d0ae8">setProgress</a> (int percent)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a2ddf8d8a8c0c6e862cc861aded87e0a2">setSpeed</a> (long speed)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5d26bedd9e30749e06f4b0a0996b626d"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::testComplete" ref="a5d26bedd9e30749e06f4b0a0996b626d" args="(int piece)" -->
boolean&nbsp;</td><td class="memItemRight" valign="bottom"><b>testComplete</b> (int piece)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#aa52ddecb362a7f462dafc8b9181bf61e">blockUntilCompletion</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a5d9bd7a64a0747d9440c5bcffc23e485">startTrackerUpdate</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a6fe29d22cb0d273f57e4ae1889f482f9">stopTrackerUpdate</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#aef5ce5f1d5f07d30b00f18d52b52c0ec">startListening</a> (int minPort, int maxPort)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#af9d07141554f5d99cc69d928a62f4bb5">closeTempFiles</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a8eb7c238409f2d32b62aef6a7a02bbcb">checkTempFiles</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a2fc9b7a2b7466ed76061ec97d7b0d931">savePiece</a> (int piece)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#af5eb8ee54fc43f223e393b3814d0f3e9">save</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a5fc8c9ae5c091bf5e4fd2ee8bbd47072">isComplete</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a08e44d470aa35a70f47c569e4b65b84b">cardinalityR</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized <a class="el" href="classj_bittorrent_a_p_i_1_1_piece.html">Piece</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a2c576788704ea89a2449e470fc02c955">getPiece</a> (int index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a4c5841b55bbd3b45e4fd89d049802579">isPieceComplete</a> (int piece)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a98e02f682d704a0aea83859210d561bd">isPieceRequested</a> (int piece)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a77f2cb90c39d9aa0a0917c7221593496">setComplete</a> (int piece, boolean is)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a25c9eae498059d4de7b7642e5cd30498">setRequested</a> (int piece, boolean is)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized String&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a36b75b950fbf07a4e7b7402eb1bd2307">requestedBits</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a1b52fff0ffb273927c74137371efaa6b">taskCompleted</a> (String id, int reason)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#adbcd4f5283d6658ab48a9688c6dba0ca">pieceCompleted</a> (String peerID, int i, boolean complete)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#aa2ca48fc9e354d7995b451703780ba7a">pieceRequested</a> (int i, boolean requested)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a5a0a15af5eee295adb93fa5f218bbfc3">peerReady</a> (String peerID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a0640ab4a739aac77045c288a26118a0c">peerRequest</a> (String peerID, int piece, int begin, int length)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized byte[]&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#aafe1b46b577a081aa52db87db81240f7">getPieceFromFiles</a> (int piece)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized byte[]&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#ad1e35cf49af550e1a2c47cf6c573a0ec">getPieceBlock</a> (int piece, int begin, int length)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#ae8ce95ab44d21aeba95218aab682c21a">peerAvailability</a> (String peerID, BitSet has)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a554fa1431b5735e733f6fe49e7afa1b9"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::connect" ref="a554fa1431b5735e733f6fe49e7afa1b9" args="(Peer p)" -->
synchronized void&nbsp;</td><td class="memItemRight" valign="bottom"><b>connect</b> (<a class="el" href="classj_bittorrent_a_p_i_1_1_peer.html">Peer</a> p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae6474d3735a8b2feccde3d8b4ee2458f"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::disconnect" ref="ae6474d3735a8b2feccde3d8b4ee2458f" args="(Peer p)" -->
synchronized void&nbsp;</td><td class="memItemRight" valign="bottom"><b>disconnect</b> (<a class="el" href="classj_bittorrent_a_p_i_1_1_peer.html">Peer</a> p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a04d9d710297689ef852f92f8b1407e33">updatePeerList</a> (LinkedHashMap list)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a2c67828f0474dc0a8a104cb70ad676fb">updateFailed</a> (int error, String message)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a753e445be7616198024e9e7eefdede79">addActiveTask</a> (String id, <a class="el" href="classj_bittorrent_a_p_i_1_1_download_task.html">DownloadTask</a> dt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a5e63578834159ff3471d3f6cfe6bfc5d">connectionAccepted</a> (Socket s)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">byte[]&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_manager.html#a04fb67e897432a490950863e2d9c7d32">getBitField</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8cc9b50440ef11e972bb665aa8076642"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::getCompleted" ref="a8cc9b50440ef11e972bb665aa8076642" args="()" -->
float&nbsp;</td><td class="memItemRight" valign="bottom"><b>getCompleted</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a384cfe67c4829d53c35b6ac8cfa3cbd0"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::getDLRate" ref="a384cfe67c4829d53c35b6ac8cfa3cbd0" args="()" -->
float&nbsp;</td><td class="memItemRight" valign="bottom"><b>getDLRate</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a55980980c2e924f37d3e357d327bef1b"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::getULRate" ref="a55980980c2e924f37d3e357d327bef1b" args="()" -->
float&nbsp;</td><td class="memItemRight" valign="bottom"><b>getULRate</b> ()</td></tr>
<tr><td colspan="2"><h2>Package Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4c56552ac54e21a08dfd058714adf498"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::unchoken" ref="a4c56552ac54e21a08dfd058714adf498" args="" -->
LinkedHashMap&nbsp;</td><td class="memItemRight" valign="bottom"><b>unchoken</b> = new LinkedHashMap&lt;String, Integer&gt;()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Object that manages all concurrent downloads. It chooses which piece to request to which peer. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8fd6a72325826a055cf5a7c85d80830a"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::DownloadManager" ref="a8fd6a72325826a055cf5a7c85d80830a" args="(TorrentFile torrent, final byte[] clientID, JTextArea log, JProgressBar jp, JLabel speedLabel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">jBittorrentAPI.DownloadManager.DownloadManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classj_bittorrent_a_p_i_1_1_torrent_file.html">TorrentFile</a>&nbsp;</td>
          <td class="paramname"> <em>torrent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final byte[]&nbsp;</td>
          <td class="paramname"> <em>clientID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">JTextArea&nbsp;</td>
          <td class="paramname"> <em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">JProgressBar&nbsp;</td>
          <td class="paramname"> <em>jp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">JLabel&nbsp;</td>
          <td class="paramname"> <em>speedLabel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a new manager according to the given torrent and using the client id provided </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>torrent</em>&nbsp;</td><td><a class="el" href="classj_bittorrent_a_p_i_1_1_torrent_file.html">TorrentFile</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>clientID</em>&nbsp;</td><td>byte[] </td></tr>
  </table>
  </dd>
</dl>

<p><p>Construct all the pieces with the correct length and hash value</p>
</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a753e445be7616198024e9e7eefdede79"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::addActiveTask" ref="a753e445be7616198024e9e7eefdede79" args="(String id, DownloadTask dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void jBittorrentAPI.DownloadManager.addActiveTask </td>
          <td>(</td>
          <td class="paramtype">String&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classj_bittorrent_a_p_i_1_1_download_task.html">DownloadTask</a>&nbsp;</td>
          <td class="paramname"> <em>dt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add the download task to the list of active (i.e. Handshake is ok) tasks </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>String </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dt</em>&nbsp;</td><td><a class="el" href="classj_bittorrent_a_p_i_1_1_download_task.html">DownloadTask</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interfacej_bittorrent_a_p_i_1_1_d_t_listener.html">jBittorrentAPI.DTListener</a>.</p>

</div>
</div>
<a class="anchor" id="aa52ddecb362a7f462dafc8b9181bf61e"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::blockUntilCompletion" ref="aa52ddecb362a7f462dafc8b9181bf61e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void jBittorrentAPI.DownloadManager.blockUntilCompletion </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Periodically call the unchokePeers method. This is an infinite loop. User have to exit with Ctrl+C, which is not good... Todo is change this method... </p>

</div>
</div>
<a class="anchor" id="a08e44d470aa35a70f47c569e4b65b84b"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::cardinalityR" ref="a08e44d470aa35a70f47c569e4b65b84b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized int jBittorrentAPI.DownloadManager.cardinalityR </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the number of pieces currently requested to peers </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>int </dd></dl>

</div>
</div>
<a class="anchor" id="a8eb7c238409f2d32b62aef6a7a02bbcb"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::checkTempFiles" ref="a8eb7c238409f2d32b62aef6a7a02bbcb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized int jBittorrentAPI.DownloadManager.checkTempFiles </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check the existence of the files specified in the torrent and if necessary, create them</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>int </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>Should return an integer representing some error message... </dd></dl>

</div>
</div>
<a class="anchor" id="af9d07141554f5d99cc69d928a62f4bb5"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::closeTempFiles" ref="af9d07141554f5d99cc69d928a62f4bb5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void jBittorrentAPI.DownloadManager.closeTempFiles </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Close all open files </p>

</div>
</div>
<a class="anchor" id="a5e63578834159ff3471d3f6cfe6bfc5d"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::connectionAccepted" ref="a5e63578834159ff3471d3f6cfe6bfc5d" args="(Socket s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void jBittorrentAPI.DownloadManager.connectionAccepted </td>
          <td>(</td>
          <td class="paramtype">Socket&nbsp;</td>
          <td class="paramname"> <em>s</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called when a new peer connects to the client. Check if it is already registered in the peer list, and if not, create a new <a class="el" href="classj_bittorrent_a_p_i_1_1_download_task.html">DownloadTask</a> for it </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>Socket </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interfacej_bittorrent_a_p_i_1_1_con_listener_interface.html#ae9112eed45ca89e112dbe8bc7aba6716">jBittorrentAPI.ConListenerInterface</a>.</p>

</div>
</div>
<a class="anchor" id="a04fb67e897432a490950863e2d9c7d32"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::getBitField" ref="a04fb67e897432a490950863e2d9c7d32" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte [] jBittorrentAPI.DownloadManager.getBitField </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Compute the bitfield byte array from the isComplete BitSet </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>byte[] </dd></dl>

</div>
</div>
<a class="anchor" id="a2c576788704ea89a2449e470fc02c955"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::getPiece" ref="a2c576788704ea89a2449e470fc02c955" args="(int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized <a class="el" href="classj_bittorrent_a_p_i_1_1_piece.html">Piece</a> jBittorrentAPI.DownloadManager.getPiece </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the piece with the given index </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>The piece index </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="classj_bittorrent_a_p_i_1_1_piece.html">Piece</a> The piece with the given index </dd></dl>

</div>
</div>
<a class="anchor" id="ad1e35cf49af550e1a2c47cf6c573a0ec"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::getPieceBlock" ref="ad1e35cf49af550e1a2c47cf6c573a0ec" args="(int piece, int begin, int length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized byte [] jBittorrentAPI.DownloadManager.getPieceBlock </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>piece</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a piece block from the existing file(s) </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>piece</em>&nbsp;</td><td>int </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>begin</em>&nbsp;</td><td>int </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>int </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>byte[] </dd></dl>

</div>
</div>
<a class="anchor" id="aafe1b46b577a081aa52db87db81240f7"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::getPieceFromFiles" ref="aafe1b46b577a081aa52db87db81240f7" args="(int piece)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized byte [] jBittorrentAPI.DownloadManager.getPieceFromFiles </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>piece</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Load piece data from the existing files </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>piece</em>&nbsp;</td><td>int </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>byte[] </dd></dl>

</div>
</div>
<a class="anchor" id="a5fc8c9ae5c091bf5e4fd2ee8bbd47072"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::isComplete" ref="a5fc8c9ae5c091bf5e4fd2ee8bbd47072" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized boolean jBittorrentAPI.DownloadManager.isComplete </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if the current download is complete </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

</div>
</div>
<a class="anchor" id="a4c5841b55bbd3b45e4fd89d049802579"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::isPieceComplete" ref="a4c5841b55bbd3b45e4fd89d049802579" args="(int piece)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized boolean jBittorrentAPI.DownloadManager.isPieceComplete </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>piece</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if the piece with the given index is complete and verified </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>piece</em>&nbsp;</td><td>The piece index </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

</div>
</div>
<a class="anchor" id="a98e02f682d704a0aea83859210d561bd"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::isPieceRequested" ref="a98e02f682d704a0aea83859210d561bd" args="(int piece)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized boolean jBittorrentAPI.DownloadManager.isPieceRequested </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>piece</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if the piece with the given index is requested by a peer </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>piece</em>&nbsp;</td><td>The piece index </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

</div>
</div>
<a class="anchor" id="ae8ce95ab44d21aeba95218aab682c21a"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::peerAvailability" ref="ae8ce95ab44d21aeba95218aab682c21a" args="(String peerID, BitSet has)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void jBittorrentAPI.DownloadManager.peerAvailability </td>
          <td>(</td>
          <td class="paramtype">String&nbsp;</td>
          <td class="paramname"> <em>peerID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BitSet&nbsp;</td>
          <td class="paramname"> <em>has</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Update the piece availabilities for a given peer </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>peerID</em>&nbsp;</td><td>String </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>has</em>&nbsp;</td><td>BitSet </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interfacej_bittorrent_a_p_i_1_1_d_t_listener.html">jBittorrentAPI.DTListener</a>.</p>

</div>
</div>
<a class="anchor" id="a5a0a15af5eee295adb93fa5f218bbfc3"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::peerReady" ref="a5a0a15af5eee295adb93fa5f218bbfc3" args="(String peerID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void jBittorrentAPI.DownloadManager.peerReady </td>
          <td>(</td>
          <td class="paramtype">String&nbsp;</td>
          <td class="paramname"> <em>peerID</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Received when a task is ready to download or upload. In such a case, if there is a piece that can be downloaded from the corresponding peer, then request the piece </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>peerID</em>&nbsp;</td><td>String </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interfacej_bittorrent_a_p_i_1_1_d_t_listener.html">jBittorrentAPI.DTListener</a>.</p>

</div>
</div>
<a class="anchor" id="a0640ab4a739aac77045c288a26118a0c"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::peerRequest" ref="a0640ab4a739aac77045c288a26118a0c" args="(String peerID, int piece, int begin, int length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void jBittorrentAPI.DownloadManager.peerRequest </td>
          <td>(</td>
          <td class="paramtype">String&nbsp;</td>
          <td class="paramname"> <em>peerID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>piece</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Received when a peer request a piece. If the piece is available (which should always be the case according to Bittorrent protocol) and we are able and willing to upload, the send the piece to the peer </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>peerID</em>&nbsp;</td><td>String </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>piece</em>&nbsp;</td><td>int </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>begin</em>&nbsp;</td><td>int </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>int </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interfacej_bittorrent_a_p_i_1_1_d_t_listener.html">jBittorrentAPI.DTListener</a>.</p>

</div>
</div>
<a class="anchor" id="adbcd4f5283d6658ab48a9688c6dba0ca"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::pieceCompleted" ref="adbcd4f5283d6658ab48a9688c6dba0ca" args="(String peerID, int i, boolean complete)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void jBittorrentAPI.DownloadManager.pieceCompleted </td>
          <td>(</td>
          <td class="paramtype">String&nbsp;</td>
          <td class="paramname"> <em>peerID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&nbsp;</td>
          <td class="paramname"> <em>complete</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Received when a piece has been fully downloaded by a task. The piece might have been corrupted, in which case the manager will request it again later. If it has been successfully downloaded and verified, the piece status is set to 'complete', a 'HAVE' message is sent to all connected peers and the piece is saved into the corresponding file(s) </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>peerID</em>&nbsp;</td><td>String </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>int </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>complete</em>&nbsp;</td><td>boolean </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interfacej_bittorrent_a_p_i_1_1_d_t_listener.html">jBittorrentAPI.DTListener</a>.</p>

</div>
</div>
<a class="anchor" id="aa2ca48fc9e354d7995b451703780ba7a"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::pieceRequested" ref="aa2ca48fc9e354d7995b451703780ba7a" args="(int i, boolean requested)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void jBittorrentAPI.DownloadManager.pieceRequested </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&nbsp;</td>
          <td class="paramname"> <em>requested</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the status of the piece to requested or not </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>int </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>requested</em>&nbsp;</td><td>boolean </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interfacej_bittorrent_a_p_i_1_1_d_t_listener.html">jBittorrentAPI.DTListener</a>.</p>

</div>
</div>
<a class="anchor" id="a36b75b950fbf07a4e7b7402eb1bd2307"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::requestedBits" ref="a36b75b950fbf07a4e7b7402eb1bd2307" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized String jBittorrentAPI.DownloadManager.requestedBits </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns a String representing the piece being requested by peers. Used only for pretty-printing. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>String </dd></dl>

</div>
</div>
<a class="anchor" id="af5eb8ee54fc43f223e393b3814d0f3e9"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::save" ref="af5eb8ee54fc43f223e393b3814d0f3e9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void jBittorrentAPI.DownloadManager.save </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Save the downloaded files into the corresponding directories </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a2fc9b7a2b7466ed76061ec97d7b0d931"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::savePiece" ref="a2fc9b7a2b7466ed76061ec97d7b0d931" args="(int piece)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void jBittorrentAPI.DownloadManager.savePiece </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>piece</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Save a piece in the corresponding file(s) </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>piece</em>&nbsp;</td><td>int </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a77f2cb90c39d9aa0a0917c7221593496"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::setComplete" ref="a77f2cb90c39d9aa0a0917c7221593496" args="(int piece, boolean is)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void jBittorrentAPI.DownloadManager.setComplete </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>piece</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&nbsp;</td>
          <td class="paramname"> <em>is</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Mark a piece as complete or not according to the parameters </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>piece</em>&nbsp;</td><td>The index of the piece to be updated </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>is</em>&nbsp;</td><td>True if the piece is now complete, false otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a938bc914b3c42f488705aa8e6c5d0ae8"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::setProgress" ref="a938bc914b3c42f488705aa8e6c5d0ae8" args="(int percent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void jBittorrentAPI.DownloadManager.setProgress </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>percent</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Updates the progress bar in the GUI </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>percent</em>&nbsp;</td><td>int </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a25c9eae498059d4de7b7642e5cd30498"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::setRequested" ref="a25c9eae498059d4de7b7642e5cd30498" args="(int piece, boolean is)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void jBittorrentAPI.DownloadManager.setRequested </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>piece</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&nbsp;</td>
          <td class="paramname"> <em>is</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Mark a piece as requested or not according to the parameters </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>piece</em>&nbsp;</td><td>The index of the piece to be updated </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>is</em>&nbsp;</td><td>True if the piece is now requested, false otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2ddf8d8a8c0c6e862cc861aded87e0a2"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::setSpeed" ref="a2ddf8d8a8c0c6e862cc861aded87e0a2" args="(long speed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void jBittorrentAPI.DownloadManager.setSpeed </td>
          <td>(</td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>speed</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Changes the speed in the GUI </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>speed</em>&nbsp;</td><td>long </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aef5ce5f1d5f07d30b00f18d52b52c0ec"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::startListening" ref="aef5ce5f1d5f07d30b00f18d52b52c0ec" args="(int minPort, int maxPort)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean jBittorrentAPI.DownloadManager.startListening </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>minPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>maxPort</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create the <a class="el" href="classj_bittorrent_a_p_i_1_1_connection_listener.html">ConnectionListener</a> to accept incoming connection from peers </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>minPort</em>&nbsp;</td><td>The minimal port number this client should listen on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>maxPort</em>&nbsp;</td><td>The maximal port number this client should listen on </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if the listening process is started, false else </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Should it really be here? Better create it in the implementation </dd></dl>

</div>
</div>
<a class="anchor" id="a5d9bd7a64a0747d9440c5bcffc23e485"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::startTrackerUpdate" ref="a5d9bd7a64a0747d9440c5bcffc23e485" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void jBittorrentAPI.DownloadManager.startTrackerUpdate </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create and start the peer updater to retrieve new peers sharing the file </p>

</div>
</div>
<a class="anchor" id="a6fe29d22cb0d273f57e4ae1889f482f9"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::stopTrackerUpdate" ref="a6fe29d22cb0d273f57e4ae1889f482f9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void jBittorrentAPI.DownloadManager.stopTrackerUpdate </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stop the tracker updates </p>

</div>
</div>
<a class="anchor" id="a1b52fff0ffb273927c74137371efaa6b"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::taskCompleted" ref="a1b52fff0ffb273927c74137371efaa6b" args="(String id, int reason)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void jBittorrentAPI.DownloadManager.taskCompleted </td>
          <td>(</td>
          <td class="paramtype">String&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reason</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes a task and peer after the task sends a completion message. Completion can be caused by an error (bad request, ...) or simply by the end of the connection </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>Task idendity </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reason</em>&nbsp;</td><td>Reason of the completion </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interfacej_bittorrent_a_p_i_1_1_d_t_listener.html">jBittorrentAPI.DTListener</a>.</p>

</div>
</div>
<a class="anchor" id="a2c67828f0474dc0a8a104cb70ad676fb"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::updateFailed" ref="a2c67828f0474dc0a8a104cb70ad676fb" args="(int error, String message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void jBittorrentAPI.DownloadManager.updateFailed </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&nbsp;</td>
          <td class="paramname"> <em>message</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called when an update try fail. At the moment, simply display a message </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>int </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>message</em>&nbsp;</td><td>String </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interfacej_bittorrent_a_p_i_1_1_peer_update_listener.html">jBittorrentAPI.PeerUpdateListener</a>.</p>

</div>
</div>
<a class="anchor" id="a04d9d710297689ef852f92f8b1407e33"></a><!-- doxytag: member="jBittorrentAPI::DownloadManager::updatePeerList" ref="a04d9d710297689ef852f92f8b1407e33" args="(LinkedHashMap list)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void jBittorrentAPI.DownloadManager.updatePeerList </td>
          <td>(</td>
          <td class="paramtype">LinkedHashMap&nbsp;</td>
          <td class="paramname"> <em>list</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Given the list in parameter, check if the peers are already present in the peer list. If not, then add them and create a new task for them </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>list</em>&nbsp;</td><td>LinkedHashMap </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interfacej_bittorrent_a_p_i_1_1_peer_update_listener.html">jBittorrentAPI.PeerUpdateListener</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>MiniTorrent/src/jBittorrentAPI/DownloadManager.java</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.2 </small></address>
</body>
</html>
